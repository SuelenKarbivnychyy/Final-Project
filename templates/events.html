{% extends 'base.html' %}

{% block title %} All Events {% endblock %}

{% block body %}

<h1 class="text-center mt-5"> Events  </h1>

<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;    
}
</style>

<div class="container rounded border border-secondary mt-3 py-4 px-5">
  <table class="table">    
      <thead>
        <tr  class="card-header bg-info">   
          <th scope="col">Event Name</th>
          <th scope="col">People attending this event</th>
          <th scope="col">Wants to attend this event? Sign in on the button bellow</th>        
        </tr>
      </thead>
      <tbody>       
             {% for event in events %}
              <tr>
                  <td> <a href="events/{{event.id}}"> {{event.name}}</a></td>               
                    <td>{{event.attendances|length}}</td> 

                    {% if event.id in attendances.keys() %} 
                      <td> <button class="bg-warning text-white" type="submit" value="{{event.id}}" name="sign_out">Sign out</button> </td>
                    {% else %}
                      <td> <button class="bg-primary text-white" type="submit" value="{{event.id}}" name="sign_up">Sign in</button> </td>
                    {% endif %}         
              </tr>
             {% endfor %}
      </tbody>
  </table>
</div>


<script src="static/event_sign_in.js"></script>       <!-- importing javascript file -->


{% endblock %}


{% block js %}	
{% endblock %}
